# Redis configuration for ProspectFlow session storage
# Optimized for development environment

# Memory Management
maxmemory 256mb
maxmemory-policy allkeys-lru

# Persistence - AOF (Append Only File)
appendonly yes
appendfsync everysec
auto-aof-rewrite-percentage 100
auto-aof-rewrite-min-size 64mb

# Persistence - RDB Snapshots
# Save if at least 1 key changed in 15 minutes
save 900 1
# Save if at least 10 keys changed in 5 minutes
save 300 10
# Save if at least 10000 keys changed in 1 minute
save 60 10000

# Network
# ⚠️ SECURITY WARNING: The following configuration exposes Redis without authentication.
# This is acceptable ONLY for local development. For production:
# 1. Set bind 127.0.0.1 or use Docker network isolation
# 2. Enable protected-mode yes
# 3. Uncomment and set requirepass below
bind 0.0.0.0
protected-mode no
port 6379

# General
databases 16
loglevel notice

# Security
# requirepass <password>  # Uncomment and set password for production

# Performance
tcp-backlog 511
timeout 0
tcp-keepalive 300
